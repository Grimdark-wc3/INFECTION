# Контроллеры спавнов

## Общие принципы

* {Tt} каждой фракции существ присваивается целое число &ndash; **индекс фракции**;
* {Tt} каждому монстру из фракции присваивается целое число &ndash; **индекс юнита**;
* {T} каждая локация содержит массивы **индексов фракций** и **индексов юнитов**, причём для каждых фракции и монстра число его индексов в массиве может быть разным:
   * {Ex} например, возможен массив вида: [ 1 1 1 1 2 3 3 ], где 1 это индекс зомби, 2 это индекс волколака, 3 индекс некроманта;
* {t} существует глобальная переменная **currentSpawnOwnerPlayer**, в которой хранится игрок-владелец юнитов спавна;
* {t} существует глобальная переменная **currentFractionIndexArray**, в которой хранится текущий массив фракций юнитов;
* {t} существует глобальная переменная **currentUnitIndexArray**, в которой хранится текущий массив индексов юнитов;
* {t} существует глобальная переменная **currentCountOfUnit**, в которой хранится количество юнитов;
* {t} существует глобальная переменная **currentDCountOfUnit**, в которой отклонение количества юнитов;
* {t} существует глобальная переменная **currentSpawnRegion**, в которой хранится текущий регион в котором происходит спавн;
* {Tt} при срабатывании **триггера-инициатора** спавна в глобальные переменные перечисленные выше заносятся соответствующие значения, и запускаются (*run trigger*) **спавн-триггеры** нужного **типа**;
* {Tt} **спавн-триггеры** генерируют юнитов следующим образом:
   * в цикле от 1 до currentCountOfUnit=/-currentDCountOfUnit нужно:
      * из массива текущих индексов фракций, случайным образом выбирается один из элементов (выбор фракции);
      * из массива текущих индексов юнитов, соответсвующего выбранному индексу фракции, случайным образом выбирается один из элементов (выбор юнита);
      * в регионе currentSpawnRegion спавнится юнит, соотвествующий выбранному индексу юнита, в соответствии с правилами типа данного спавн триггера (в рандомной точке области, в центре...) для игрока currentSpawnOwnerPlayer;
      * *возможное время ожидания?*;

## Типы триггеров-инициаторов

## Типы спавн-триггеров
