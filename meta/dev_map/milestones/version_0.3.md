# Версия 0.3

## Критерии готовности версии к релизу
Версия карты **0.3** считается готовой к релизу если:

1. В неё можно нормально играть при любом числе игроков:
   * Это значит, что все три героя (Джонни, Крис, Григорий) должны быть играбельны: способности сбалансированы, работают и нормально описаны, предметы их класса доступны в продаже, нормально работают и описаны;
2. Карта проходима:
   * Триггеры основного сюжета отрабатывают нормально;
   * Игру можно пройти, завершив победой. Т.е. у карты есть цель, и она достижима;
3. Геймплей должен идти относительно ровно:
   * Не должно быть серьёзных и длительных провисаний в динамике геймплея;
   * Боссы должны быть достаточно сложными, чтобы выглядеть боссами;
   * За выполнение квестов дают награды: оружие, броню, опыт, золото;
   * Дополнительные квесты имеют значение, их прохождение это челлендж, который щедро вознаграждается:
      * За выполнение дополнительных квестов дают артефакты, ресурсы и опыт;
      * Наприер, максимальный уровень (10) к финальному заданию может быть взят только при выполнении всех побочных квестов;
4. Про организацию тестирования:
   * Должен быть **режим отладки**, где можно проверять баланс: героев (любой степени прокачки), способности, предметы, монстров, боссов, нпс, сражения, триггеры. Сталкивать всё это друг с другом и анализировать результаты. Причём работать с этим должно быть быстро и удобно;
   * Должен быть **режим тестирования**, где можно быстро проверить геймплей кусков сюжета и возможность пройти карту, работу основных триггеров;
   * Должны быть вспомогательные команды, облегчающие тестирование (**whosyourdaddy**, **iseedeadpeople**, **greedisgood** работают в сетевом режиме, **-test**, **-debug**);

## Задачи

### Последовательность работ по реализации версии и направления работ

Задачи раздела **Важное** в приоритете.

**1. Боевая система, прокачка и экономика**: Чтобы избавиться от текущих проблем с балансом на карте и разрешить часть проблем концепции (раздел Нейтрализация наказаний или `/gamedes/problems.md`) нужно доделать **механизм тестирования актов и событий** и задачи раздела **Организация разработки**.

**2. Способности героев, предметы, монстры, нпс**: Чтобы доработать героев, их способности и новые предметы, монстров и нпс нужно доделать **Тестовую арену**.

Последовательность реализации:

   1. Задачи раздела **Важное** в приоритете;
   * Закрыть раздел **Организация разработки**;
      * Можно начать править **текущие проблемы баланса**: прогресс прокачки (награды за квесты, уровни монстров, урезание получения опыта);
      * Можно начать дорабатывать локации и исправлять триггеры спавнов (`../spawn_task.md`), атак и сражений монстров;
      * Можно начать реализацию спавн-контроллеров и зачистку карты от "лишних юнитов";
      * Разрешить проблемы текущего баланса и реализовать новую систему спавнов монстров;
   * Закрыть раздел **Организация тестирования**;
      * Можно начать добавлять новых монстров и предметы, дорабатывать существующие;
      * Закрыть раздел c доработкой героев;

---

### Нужно сделать

#### ВАЖНОЕ

#### ОРГАНИЗАЦИЯ РАЗРАБОТКИ

   * {-} Перебрать все старые триггеры (переработать очевидно устаревшие) и изменить структуру папок для триггеров;
   * {-} Провести категоризацию регионов к новому формату (ищи в `/workflow/notations/region_notation.md`);
   * {-} *Про ведение документов*;

#### БАГИ

#### БАЛАНС

**Монстры и нпс**
   
   * {-} убрать с карты "лишних" монстров и нпс (лишние это те, на которых нет триггеров), чтобы при больших кучах монстров они не тормозили;
   * {-} расставить на локациях **регионы-области** с рандомными **спавнами**, **единичные спавны**, **спавны отрядов**;

**Раздражающее и скучное**
      
   * {-} доработать **кладбище**: **могильники** (разместить из на возвышении), добавить **культистов** (аколит, головорез, охотник на людей, людоед), **скелетов** убрать в **Подземелья**;
   * {-} **Кель-Азан** на **кладбище** сливается как-то мимоходом, хотя подразумевается, что это босс. Нужно переработать подход к нему (убрать эту невнятную гору, сделать так, чтобы было видно как через кладбище бегут монстры за героями);
   * {-} **Голем из плоти** в **Хэмхолле** абсолютно рутинный босс, от которого просто бежишь через весь город. Нужно хотя бы сделать сражение с ним на ограниченной площади чтоли?;

**Проблемы текущего баланса**
      
   * {-} Проблема прокачки героев:
      * {-} реализовать `../leveling_task.md`;
   * {-} предметы второго уровня слишком слабы для **подземелий** и **Хэмхолла**. Нужно ввести предметы третьего уровня;

**Скиллы героев под новый баланс**

   * {+} возможно следующий уровень прокачки способности должен открываться через 2 уровня, а не через 1;
      * {-} и тогда возможно последний уровень способности должен давать существенный бонус (например **Верный глаз** у **Концентрации** появляется только на 3 уровне прокачки);
   * {-} Переработать под новый баланс скиллы Отца Григория из предыдущей версии (а ауру заменить на *Волну исцеления*?);
      * {-} Добавить ему пассивную способность первого уровня;
      * {-} Сделать корректные описания и эффекты для способностей Отца Григория;
   * {-} Переработать под новый баланс скиллы Джонни:
      * {-} доработать способность Джонни **Глаз алмаз**, либо заменить её на *Выстрел с бедра*?, либо заменить её на **Стимуляторы десанта** (что вероятней);
      * {-} доработать способность Джонни **Во всеоружии**, см. её новый концепт. Поправить все Подсказки (Изучение, использование);
   * {-} Переработать под новый баланс скиллы Криса из предыдущей версии;
      * {-} Сделать корректные описания и эффекты для способностей Криса;

#### ОРГАНИЗАЦИЯ ТЕСТИРОВАНИЯ

   * {-} **полигон для тестов**:
      * {-} реализовать закупку и спавн монстров через торговцев/магазины и рычаги (см. файл `./test_polygon.md`);
      * {-} вход в режим тестирования при вводе в чат команды `-debug`: передача зданий найма героев под контроль игроков тестеров и вклучение триггеров Тестовой Арены;

#### НЕЙТРАЛИЗАЦИЯ НАКАЗАНИЙ

   * {-} реализовать другие механизмы системы **Save/Load**:
      * {-} попробовать сделать **Помощь**: герой лежит какое-то время, потом к нему подбегает другой герои и "поднимает". Т.о. игра заканчивается только тогда, когда вся группа лишилась героев;
      * {-} попробовать сделать **Чекпойнты**: если группа слилась, герои возрождаются у чекпойнта, триггеры перезапускаются, юниты возрождаются;

---

### Сделано

#### ОРГАНИЗАЦИЯ ТЕСТИРОВАНИЯ

   * **Полигон для тестов**:
      * {+} здание найма героев: механизм респа героя с экипировкой и ресурсами для покупок;
      * {+} Лабиринт для боссов;
      * {+} Манекены для проверки урона;
      * {+} механизм рандомного спавна монстров на локации;
      * {+} механизм спавна волны: уничтожение рычага, открытие ворот, волна. Через минуту всё восстанавливается.;
      * {+} арена для баланса НПС против монстров:
         * {+} здания найма НПС;   
   * {+} **торговцы-магазины, в дополнение к зданиям-магазинам (для тестирования)**;
   * {+} **механизм теста событий, ситуаций и актов**:
      * {+} реализовать для начала упрощённую версию из `/testing/testing_a&e.md`;
   * {+} реализовать команды чата для тестирования и отладки по файлу `/content/code/chat_commands.md`;

#### НЕЙТРАЛИЗАЦИЯ РАЗРАБОТКИ

   * {+} Привести именование всех способностей в игре к новому формату (ищи в `/workflow/notations/skill_notation.md`);
   * {+} Привести описания всех предметов в игре к новому формату (ищи в `/workflow/notations/item_notation.md`);
   * {+} Провести категоризацию юнитов к новому формату (ищи в `/workflow/notations/unit_notation.md`);
   

#### НЕЙТРАЛИЗАЦИЯ НАКАЗАНИЙ

   * {+} при возрождении героя (от вещьмешка и книги) его нужно добавить под выбор игрока;
   * {+} увеличить скорость поворота героев;   
   * {+} свободная камера: вынести в отдельную папку в категорию Управление:
      * {+} сделать включение/выключение по команде;
      * {+} общий обзор для игроков;
   * {+} техника понятного описания способностей героев;
   * {+} формат понятного описания характеристик предметов;

#### БАГИ

   * {+} ГО перед парком перестало попадать под контроль игрока;
   * {+} заняться багами из `/testing/testing_log/testing_log_2017.01.11.md` (это к багам относится);
   * {+} заняться багами из `/testing/testing_log/testing_log_2017.01.23.md` (это к багам относится);

#### БАЛАНС

**Предметы под новый баланс**

   * {+} корректное описание предметов по разработанному формату;
   * {+} убрать из магазинов вещмешок и священную книгу вторых уровней (их же нельзя выкинуть);
   
**Проблемы текущего баланса**

   * {+} отряд Паркера уничтожают: если всё-таки Паркер помирает, то делать его неуязвимым (организовать тестирование этого триггера):
   * {+} слишком крутые зомби: понерфить урон их способности и количесво маны;
   * {+} слишком крутая ГО: понерфить урон;
   * {+} слишком крутые священники: понерфить урон;
   * {+} слишком крутые могильники, амбары, лесопилки (размещать их для теста на арене сражений выстрелом по новому рычагу);
   * {+} слишком крутые дома и БТР;
   * {+} отряд Паркера уничтожают: усилить и протестировать его в **iseedeadpeople** (проверка с помощью **механизма тестов акта** (см. выше));
   * {+} нехватает магазинов: добавить кузницу в лагерь Стражей на реке, добавить склад оружия в пещеры;
   * {+} некоторые предметы несбалансированы:
      * {+} ослабить серебрянные пули;
   * {+} у героев не хватает скиллов: сделать так чтобы Григория нельзя было выбрать:
      * {+} во всеоружии: поправить название в описании способностей;
   * {+} понерфить глыбы перед Переулком у Площади 1;      
   * {+} второй уровень герои должны брать раньше (чтобы взять активную способность);

**Монстры и нпс**
   
   * {+} написать управляющие спавнами **триггеры** (см. **Спавн-контроллеры** в `../code/spawn-controlers.md`);

#### КОМАДЫ

   * {+} **-lockcamera** &ndash; управление камерой игрока. Закрепление на герое, при повторном вводе освобождение;
   * {+} **-showspeed** &ndash; игроку выводится на экран текущая скорость героя.
   * **Команды для тестирования и отладки**:
      * {+} **-delphimode** &ndash; для всех игроков убирается туман войны и чёрная маска миникарты, при повторном вводе возвращаются;
      * {+} **-godemode** &ndash; герою игрока даётся бонус к урону +500, даётся 99999 брони.
      * {+} **-givemeallmoney** &ndash; игроку даётся 100000 золота и древесины.